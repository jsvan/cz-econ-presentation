<!-- SLIDE 3: AUTOMOTIVE -->
<div class="slide-content">
    <div class="section-number">03</div>
    <div class="section-label">šlápnout na plyn</div>
    <h2>Auta: Největší Český Průmysl<span class="gdp-tag">4 - 10% GDP</span></h2>
    <br/>
    <div class="chart-container">
        <div class="chart-title">Roční Produkce Automobilů (Milión) — <a href="https://autosap.cz/en/aktualita/2024-rok-rekordni-vyroby-osobnich-automobilu/" target="_blank" style="color: var(--accent-gold);">AutoSAP</a></div>
        <div class="chart-wrapper">
            <canvas id="carProductionChart"></canvas>
        </div>
    </div>

    <div class="chart-container">
        <div class="chart-title">Kam jedou Škody? (2024) — <a href="https://www.skoda-storyboard.com/en/press-releases/skoda-auto-delivers-926600-vehicles-to-customers-worldwide-in-2024/" target="_blank" style="color: var(--accent-gold);">Škoda Storyboard</a></div>
        <div class="chart-wrapper">
            <canvas id="skodaExportsChart"></canvas>
        </div>
    </div>

    <div class="map-container">
        <div class="chart-title">Tři Továrny (2024)</div>
        <svg viewBox="0 0 612.46 350.62" xmlns="http://www.w3.org/2000/svg">
            <image href="https://jsvan.github.io/cz-econ-presentation/czech-republic.svg" width="612.46" height="350.62"/>

            <!-- ALL SHAPES FIRST (so text renders on top) -->

            <!-- Prague marker -->
            <circle cx="212" cy="137" r="4" fill="#fff"/>

            <!-- Škoda - Mladá Boleslav -->
            <circle cx="255" cy="90" r="18" fill="#c9a227" opacity="0.3"/>
            <circle cx="255" cy="90" r="8" fill="#c9a227"/>

            <!-- Toyota - Kolín -->
            <circle cx="281" cy="144" r="10" fill="#16a34a" opacity="0.3"/>
            <circle cx="281" cy="144" r="5" fill="#16a34a"/>

            <!-- Hyundai - Nošovice -->
            <circle cx="572" cy="194" r="14" fill="#2563eb" opacity="0.3"/>
            <circle cx="572" cy="194" r="7" fill="#2563eb"/>

            <!-- ALL TEXT LAST (renders on top of shapes) -->

            <!-- Prague label -->
            <text x="212" y="127" fill="#fff" font-size="10" text-anchor="middle" font-weight="bold">Praha</text>

            <!-- Škoda labels -->
            <text x="255" y="76" fill="#c9a227" font-size="10" text-anchor="middle" font-weight="bold">Škoda</text>
            <text x="255" y="108" fill="#fff" font-size="9" text-anchor="middle">M. Boleslav</text>
            <text x="255" y="120" fill="#c9a227" font-size="10" text-anchor="middle" font-weight="bold">61.7%</text>

            <!-- Toyota labels -->
            <text x="281" y="132" fill="#16a34a" font-size="10" text-anchor="middle" font-weight="bold">Toyota</text>
            <text x="281" y="162" fill="#fff" font-size="9" text-anchor="middle">Kolín</text>
            <text x="281" y="174" fill="#16a34a" font-size="10" text-anchor="middle" font-weight="bold">15.5%</text>

            <!-- Hyundai labels -->
            <text x="572" y="179" fill="#2563eb" font-size="10" text-anchor="middle" font-weight="bold">Hyundai</text>
            <text x="572" y="214" fill="#fff" font-size="9" text-anchor="middle">Nošovice</text>
            <text x="572" y="226" fill="#2563eb" font-size="10" text-anchor="middle" font-weight="bold">22.8%</text>
            <text x="572" y="241" fill="#fff" font-size="8" text-anchor="middle">Morava-Slezsko</text>
        </svg>
        <div class="map-legend">
            <div class="legend-item"><div class="legend-dot" style="background: #c9a227;"></div><a href="https://autosap.cz/en/aktualita/2024-rok-rekordni-vyroby-osobnich-automobilu/" target="_blank" class="src">Škoda (VW) - 896,933 auta</a></div>
            <div class="legend-item"><div class="legend-dot" style="background: #2563eb;"></div><a href="https://autosap.cz/en/aktualita/2024-rok-rekordni-vyroby-osobnich-automobilu/" target="_blank" class="src">Hyundai - 330,890 auta</a></div>
            <div class="legend-item"><div class="legend-dot" style="background: #16a34a;"></div><a href="https://autosap.cz/en/aktualita/2024-rok-rekordni-vyroby-osobnich-automobilu/" target="_blank" class="src">Toyota - 225,058 auta</a></div>
        </div>
    </div>

</div>

<script>
window.initChartsSlide3 = function() {
    createChart('skodaExportsChart', {
        type: 'bar',
        data: {
            labels: ['Německo', 'Česko', 'UK', 'Polsko', 'Turecko', 'Španělsko'],
            datasets: [{
                label: 'Dodaná auta',
                data: [187100, 84500, 78700, 61400, 42200, 36300],
                backgroundColor: [ChartColors.gold, ChartColors.blue, ChartColors.gray, ChartColors.gray, ChartColors.gray, ChartColors.gray],
                borderWidth: 0
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            indexAxis: 'y',
            plugins: { legend: { display: false } },
            scales: {
                x: { title: { display: true, text: 'Auta' }, grid: { color: '#1a1a1a' } },
                y: { grid: { display: false } }
            }
        }
    });

    createChart('carProductionChart', {
        type: 'line',
        data: {
            labels: ['2000', '2005', '2010', '2015', '2018', '2019', '2020', '2021', '2022', '2023', '2024'],
            datasets: [{
                label: 'Auta (milion)',
                data: [0.46, 0.60, 1.08, 1.30, 1.44, 1.43, 1.16, 1.11, 1.22, 1.40, 1.45],
                borderColor: ChartColors.gold,
                backgroundColor: ChartColors.goldAlpha,
                tension: 0.3,
                fill: true,
                pointRadius: 5,
                pointBackgroundColor: ChartColors.gold
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { legend: { display: false } },
            scales: {
                y: { title: { display: true, text: 'Milion aut' }, min: 0, max: 1.6, grid: { color: '#1a1a1a' } },
                x: { grid: { color: '#1a1a1a' } }
            }
        }
    });
};
</script>
