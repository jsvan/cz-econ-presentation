<!-- SLIDE 10: COMPARATIVE DASHBOARD -->
<div class="slide-content">
    <div class="section-number">12</div>
    <div class="section-label">Boží Pohled</div>
    <h2>Všechno dohromady</h2>
    <br/>
    <div class="map-container">
        <div class="chart-title">Krásné Česko</div>
        <svg viewBox="0 0 612.46 350.62" xmlns="http://www.w3.org/2000/svg">
            <image href="https://jsvan.github.io/cz-econ-presentation/czech-republic.svg" width="612.46" height="350.62"/>
                

            <!-- MINING (Red) - scaled by geographic area -->
            <!-- North Bohemian Basin - lignite (Most area) -->
            <ellipse cx="140" cy="80" rx="50" ry="20" fill="#ef4444" opacity="0.3"/>
            <circle cx="140" cy="80" r="5" fill="#ef4444"/>
            <!-- Sokolov Basin - lignite -->
            <ellipse cx="50" cy="122" rx="25" ry="15" fill="#ef4444" opacity="0.3"/>
            <circle cx="50" cy="122" r="5" fill="#ef4444"/>
            <!-- Ostrava-Karviná hard coal -->
            <ellipse cx="558" cy="173" rx="45" ry="22" fill="#ef4444" opacity="0.3"/>
            <circle cx="558" cy="173" r="5" fill="#ef4444"/>
            <!-- Plzeň kaolin -->
            <ellipse cx="116" cy="184" rx="10" ry="7" fill="#ef4444" opacity="0.35"/>
            <circle cx="116" cy="184" r="5" fill="#ef4444"/>
            <!-- Karlovy Vary kaolin -->
            <ellipse cx="71" cy="116" rx="7" ry="6" fill="#ef4444" opacity="0.35"/>
            <circle cx="71" cy="116" r="5" fill="#ef4444"/>
            <!-- Český Krumlov graphite -->
            <circle cx="202" cy="314" r="8" fill="#ef4444" opacity="0.35"/>
            <circle cx="202" cy="314" r="5" fill="#ef4444"/>
            <!-- Cínovec lithium (future - dashed) -->
            <circle cx="152" cy="45" r="8" fill="none" stroke="#ef4444" stroke-width="1.5" stroke-dasharray="3,2" opacity="0.5"/>
            <circle cx="152" cy="45" r="5" fill="#ef4444"/>

            <!-- AUTOMOTIVE (Purple) -->
            <!-- Škoda Mladá Boleslav -->
            <circle cx="255" cy="90" r="10" fill="#7c3aed" opacity="0.5"/>
            <circle cx="255" cy="90" r="5" fill="#7c3aed"/>
            <!-- Toyota Kolín -->
            <circle cx="281" cy="144" r="10" fill="#7c3aed" opacity="0.5"/>
            <circle cx="281" cy="144" r="5" fill="#7c3aed"/>
            <!-- Hyundai Nošovice -->
            <circle cx="572" cy="194" r="10" fill="#7c3aed" opacity="0.5"/>
            <circle cx="572" cy="194" r="5" fill="#7c3aed"/>

            <!-- HIGH-TECH (Blue) -->
            <!-- Prague (major hub) -->
            <circle cx="212" cy="137" r="12" fill="#2563eb" opacity="0.5"/>
            <circle cx="212" cy="137" r="5" fill="#2563eb"/>
            <!-- Brno (R&D hub) -->
            <circle cx="409" cy="261" r="10" fill="#2563eb" opacity="0.5"/>
            <circle cx="409" cy="261" r="5" fill="#2563eb"/>
            <!-- Foxconn Pardubice -->
            <circle cx="334" cy="143" r="10" fill="#2563eb" opacity="0.5"/>
            <circle cx="334" cy="143" r="5" fill="#2563eb"/>
            <!-- Foxconn Kutná Hora -->
            <circle cx="288" cy="155" r="8" fill="#2563eb" opacity="0.5"/>
            <circle cx="288" cy="155" r="5" fill="#2563eb"/>
            <!-- Ostrava IT -->
            <circle cx="558" cy="173" r="8" fill="#2563eb" opacity="0.5"/>
            <circle cx="558" cy="173" r="5" fill="#2563eb"/>

            <!-- BEER (Amber) -->
            <!-- Plzeň - Prazdroj HQ -->
            <circle cx="116" cy="184" r="10" fill="#f59e0b" opacity="0.5"/>
            <circle cx="116" cy="184" r="5" fill="#f59e0b"/>
            <!-- České Budějovice - Budvar -->
            <circle cx="216" cy="291" r="10" fill="#f59e0b" opacity="0.5"/>
            <circle cx="216" cy="291" r="5" fill="#f59e0b"/>
            <!-- Prague - Staropramen -->
            <circle cx="212" cy="137" r="8" fill="#f59e0b" opacity="0.5"/>
            <circle cx="212" cy="137" r="5" fill="#f59e0b"/>
            <!-- Velké Popovice - Kozel -->
            <circle cx="230" cy="159" r="8" fill="#f59e0b" opacity="0.5"/>
            <circle cx="230" cy="159" r="5" fill="#f59e0b"/>
            <!-- Nošovice - Radegast -->
            <circle cx="572" cy="194" r="8" fill="#f59e0b" opacity="0.5"/>
            <circle cx="572" cy="194" r="5" fill="#f59e0b"/>
            <!-- Brno - Starobrno -->
            <circle cx="409" cy="261" r="8" fill="#f59e0b" opacity="0.5"/>
            <circle cx="409" cy="261" r="5" fill="#f59e0b"/>
            <!-- Krušovice - Heineken -->
            <circle cx="152" cy="123" r="8" fill="#f59e0b" opacity="0.5"/>
            <circle cx="152" cy="123" r="5" fill="#f59e0b"/>
            <!-- Velké Březno - Heineken -->
            <circle cx="185" cy="54" r="8" fill="#f59e0b" opacity="0.5"/>
            <circle cx="185" cy="54" r="5" fill="#f59e0b"/>
            <!-- Ostrava - Ostravar -->
            <circle cx="558" cy="173" r="8" fill="#f59e0b" opacity="0.5"/>
            <circle cx="558" cy="173" r="5" fill="#f59e0b"/>

            <!-- ENERGY (Teal) -->
            <!-- Temelín Nuclear -->
            <circle cx="207" cy="262" r="12" fill="#14b8a6" opacity="0.5"/>
            <circle cx="207" cy="262" r="5" fill="#14b8a6"/>
            <!-- Dukovany Nuclear -->
            <circle cx="367" cy="276" r="12" fill="#14b8a6" opacity="0.5"/>
            <circle cx="367" cy="276" r="5" fill="#14b8a6"/>
            <!-- Dlouhé Stráně Pumped Hydro -->
            <circle cx="460" cy="136" r="10" fill="#14b8a6" opacity="0.5"/>
            <circle cx="460" cy="136" r="5" fill="#14b8a6"/>
            <!-- North Bohemia Coal Plants region -->
            <ellipse cx="125" cy="85" rx="50" ry="20" fill="#14b8a6" opacity="0.25"/>
            <circle cx="125" cy="85" r="5" fill="#14b8a6"/>
            <!-- Mělník coal/biomass -->
            <circle cx="216" cy="99" r="8" fill="#14b8a6" opacity="0.4"/>
            <circle cx="216" cy="99" r="5" fill="#14b8a6"/>
            <!-- VLTAVA CASCADE (teal line with reservoir dots) -->
            <path d="M212,145 Q200,190 185,230 Q170,270 155,310" stroke="#14b8a6" stroke-width="2" fill="none" opacity="0.5"/>
            <!-- Lipno (southernmost, largest reservoir) -->
            <circle cx="155" cy="310" r="6" fill="#14b8a6" opacity="0.5"/>
            <circle cx="155" cy="310" r="3" fill="#14b8a6"/>
            <!-- Orlík (deepest dam) -->
            <circle cx="175" cy="255" r="5" fill="#14b8a6" opacity="0.5"/>
            <circle cx="175" cy="255" r="2.5" fill="#14b8a6"/>
            <!-- Slapy -->
            <circle cx="195" cy="205" r="4" fill="#14b8a6" opacity="0.4"/>
            <circle cx="195" cy="205" r="2" fill="#14b8a6"/>
            <!-- Štěchovice -->
            <circle cx="205" cy="175" r="3" fill="#14b8a6" opacity="0.4"/>
            <circle cx="205" cy="175" r="1.5" fill="#14b8a6"/>
            <!-- Vrané (closest to Prague) -->
            <circle cx="210" cy="160" r="3" fill="#14b8a6" opacity="0.4"/>
            <circle cx="210" cy="160" r="1.5" fill="#14b8a6"/>

            <!-- AGRICULTURE (Green) - scaled by geographic area -->
            <!-- South Bohemia - Potatoes/Fish (Jihočeský region) -->
            <ellipse cx="180" cy="260" rx="70" ry="50" fill="#16a34a" opacity="0.2"/>
            <circle cx="180" cy="260" r="5" fill="#16a34a"/>
            <!-- Vysočina Highlands - Potatoes -->
            <ellipse cx="317" cy="232" rx="55" ry="40" fill="#16a34a" opacity="0.2"/>
            <circle cx="317" cy="232" r="5" fill="#16a34a"/>
            <!-- Polabí - Wheat/Sugar Beet Belt (around Pardubice/Hradec) -->
            <ellipse cx="300" cy="130" rx="50" ry="25" fill="#16a34a" opacity="0.3"/>
            <circle cx="300" cy="130" r="5" fill="#16a34a"/>
            <!-- Haná Valley - Moravia's breadbasket (around Olomouc) -->
            <ellipse cx="467" cy="205" rx="30" ry="18" fill="#16a34a" opacity="0.25"/>
            <circle cx="467" cy="205" r="5" fill="#16a34a"/>
            <!-- South Moravia - Wine region (Břeclav/Znojmo area) -->
            <ellipse cx="400" cy="310" rx="40" ry="20" fill="#16a34a" opacity="0.4"/>
            <circle cx="400" cy="310" r="5" fill="#16a34a"/>

            <!-- GLASS (Gray/White) -->
            <!-- Northern Bohemia glass region (Jablonec nad Nisou) -->
            <circle cx="279" cy="46" r="10" fill="#9ca3af" opacity="0.5"/>
            <circle cx="279" cy="46" r="5" fill="#9ca3af"/>
            <!-- Karlovy Vary (Moser) -->
            <circle cx="71" cy="116" r="8" fill="#9ca3af" opacity="0.5"/>
            <circle cx="71" cy="116" r="5" fill="#9ca3af"/>

            <!-- CITY/REGION LABELS - rendered last so they appear on top -->

            <!-- Major cities -->
            <text x="212" y="125" fill="#fff" font-size="10" text-anchor="middle" font-weight="bold">Praha</text>
            <text x="409" y="250" fill="#fff" font-size="10" text-anchor="middle" font-weight="bold">Brno</text>
            <text x="116" y="172" fill="#fff" font-size="10" text-anchor="middle" font-weight="bold">Plzeň</text>
            <text x="558" y="158" fill="#fff" font-size="10" text-anchor="middle" font-weight="bold">Ostrava</text>

            <!-- Automotive -->
            <text x="255" y="78" fill="#fff" font-size="10" text-anchor="middle" font-weight="bold">M. Boleslav</text>
            <text x="281" y="132" fill="#fff" font-size="9" text-anchor="middle">Kolín</text>
            <text x="572" y="210" fill="#fff" font-size="9" text-anchor="middle">Nošovice</text>

            <!-- Beer -->
            <text x="216" y="280" fill="#fff" font-size="10" text-anchor="middle" font-weight="bold">Č. Budějovice</text>

            <!-- Mining -->
            <text x="140" y="68" fill="#fff" font-size="10" text-anchor="middle" font-style="italic">Severní Čechy</text>
            <text x="140" y="95" fill="#ef4444" font-size="9" text-anchor="middle">Hnědé uhlí</text>

            <!-- Agriculture -->
            <text x="317" y="220" fill="#fff" font-size="10" text-anchor="middle" font-style="italic">Vysočina</text>
            <text x="467" y="193" fill="#fff" font-size="10" text-anchor="middle" font-style="italic">Haná</text>
            <text x="400" y="325" fill="#fff" font-size="9" text-anchor="middle" font-style="italic">Víno</text>

            <!-- High-tech -->
            <text x="334" y="131" fill="#fff" font-size="9" text-anchor="middle">Pardubice</text>

            <!-- Glass -->
            <text x="279" y="34" fill="#fff" font-size="9" text-anchor="middle">Jablonec</text>

            <!-- Energy -->
            <text x="207" y="250" fill="#14b8a6" font-size="9" text-anchor="middle">Temelín</text>
            <text x="367" y="264" fill="#14b8a6" font-size="9" text-anchor="middle">Dukovany</text>
            <text x="460" y="124" fill="#14b8a6" font-size="9" text-anchor="middle">Dlouhé Stráně</text>
        </svg>
        <div class="map-legend" style="display: flex; flex-wrap: wrap; gap: 0.5rem 1.5rem;">
            <div class="legend-item"><div class="legend-dot" style="background: #7c3aed;"></div>Auta (4.3% GDP)</div>
            <div class="legend-item"><div class="legend-dot" style="background: #2563eb;"></div>Tech (~5% GDP)</div>
            <div class="legend-item"><div class="legend-dot" style="background: #14b8a6;"></div>Energie (41% jaderná)</div>
            <div class="legend-item"><div class="legend-dot" style="background: #ef4444;"></div>Těžba (~1% GDP)</div>
            <div class="legend-item"><div class="legend-dot" style="background: #f59e0b;"></div>Pivo (~0.5% GDP)</div>
            <div class="legend-item"><div class="legend-dot" style="background: #16a34a;"></div>Farmy (1.6% GDP)</div>
            <div class="legend-item"><div class="legend-dot" style="background: #9ca3af;"></div>Sklo (~0.7% GDP)</div>
        </div>
    </div>

    <div style="display: flex; gap: 1rem;">
        <div class="chart-container" style="flex: 1;">
            <div class="chart-title">Část GDP (% všeho)</div>
            <div class="chart-wrapper">
                <canvas id="gdpByIndustryChart"></canvas>
            </div>
        </div>
        <div class="chart-container" style="flex: 1;">
            <div class="chart-title">Pracovníků (tisíc)</div>
            <div class="chart-wrapper">
                <canvas id="employmentByIndustryChart"></canvas>
            </div>
        </div>
        <div class="chart-container" style="flex: 1;">
            <div class="chart-title">Export (miliardy $)</div>
            <div class="chart-wrapper">
                <canvas id="exportsByIndustryChart"></canvas>
            </div>
        </div>
    </div>

    
</div>

<script>
window.initChartsSlide8 = function() {
    // Industry colors matching the map
    const colors = {
        automotive: '#7c3aed',  // purple
        highTech: '#2563eb',    // blue
        mining: '#ef4444',      // red
        beer: '#f59e0b',        // amber
        agriculture: '#16a34a', // green
        glass: '#9ca3af'        // gray
    };

    // Consistent order: Tech, Auta, Farmy, Těžba, Sklo, Pivo
    const labels = ['Tech', 'Auta', 'Farmy', 'Těžba', 'Sklo', 'Pivo'];
    const barColors = [colors.highTech, colors.automotive, colors.agriculture, colors.mining, colors.glass, colors.beer];

    createChart('gdpByIndustryChart', {
        type: 'bar',
        data: {
            labels: labels,
            datasets: [{
                label: '% of GDP',
                data: [5.0, 4.3, 1.6, 1.0, 0.7, 0.5],
                backgroundColor: barColors,
                borderWidth: 0
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            indexAxis: 'y',
            plugins: { legend: { display: false } },
            scales: {
                x: { grid: { color: '#1a1a1a' }, max: 6 },
                y: { grid: { display: false } }
            }
        }
    });

    // Czech workforce ~5.4 million
    const totalWorkforce = 5400;
    const employmentData = [150, 434, 130, 18, 7, 15];

    createChart('employmentByIndustryChart', {
        type: 'bar',
        data: {
            labels: labels,
            datasets: [{
                label: 'Thousands employed',
                data: employmentData,
                backgroundColor: barColors,
                borderWidth: 0
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            indexAxis: 'y',
            plugins: { legend: { display: false } },
            scales: {
                x: {
                    grid: { color: '#1a1a1a' },
                    ticks: {
                        callback: function(value) {
                            const pct = (value / totalWorkforce * 100).toFixed(1);
                            return [value + 'K', '(' + pct + '%)'];
                        },
                        font: { size: 9 },
                        maxRotation: 0
                    }
                },
                y: { grid: { display: false } }
            }
        }
    });

    createChart('exportsByIndustryChart', {
        type: 'bar',
        data: {
            labels: labels,
            datasets: [{
                label: '$ billions',
                data: [51.9, 45, 1.5, 4.9, 2.4, 0.5],
                backgroundColor: barColors,
                borderWidth: 0
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            indexAxis: 'y',
            plugins: { legend: { display: false } },
            scales: {
                x: { grid: { color: '#1a1a1a' }, type: 'logarithmic', min: 0.1, max: 100 },
                y: { grid: { display: false } }
            }
        }
    });
};
</script>
